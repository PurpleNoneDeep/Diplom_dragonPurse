{% extends "accounts/base.html" %}
{% load static %}
{% block head %}<link rel="stylesheet" href="{% static 'accounts/css/dashboard.css' %}">
<link rel="stylesheet" href="{% static 'accounts/css/theme.css' %}">{% endblock %}
{% block content %}
<div class="sidebar">
        <h1><a href="{% url 'dashboard' %}">DragonPurse</a></h1>

        <a href="{% url 'wishlist_create' %}"><button>Добавить желание</button></a>
        <a href="{% url 'shared_wishlist' %}"><button>Желания друзей</button></a>

        <div class="line"></div>
        <div style="display: flex; margin: 5px;">
        <a href="{% url 'settings' %}" style="display: flex; margin: 5px;"><img src="{% static 'accounts/img/settings_photo.png' %}" width="30" height="30" alt="настройки"></a>
        <a href="{% url 'logout' %}" style="display: flex; margin: 5px;"><img src="{% static 'accounts/img/exit_photo.png' %}" width="30" height="30" alt="выход"></a>
        </div>
</div>
<main>

<h1>Мой Wishlist</h1>
{% if messages %}
            {% for m in messages %}
                <div class="alert" style="color:#ffcc00; margin-bottom:10px;">{{ m }}</div>
            {% endfor %}
{% endif %}

{% if wishlists %}
<table border="1" cellpadding="8" style="border-collapse:collapse; width:100%;">
  <thead style="background:#f8f8f8;">
    <tr>
      <th>Название</th>
      <th>Описание</th>
      <th>Статус</th>
      <th>Действия</th>
    </tr>
  </thead>
  <tbody>
    {% for w in wishlists %}
    <tr>
      <td>{{ w.name }}</td>
      <td>{{ w.description|default:"—" }}</td>
      <td>{{ w.status|default:"—" }}</td>
      <td>
        <a href="{% url 'wishlist_edit' w.pk %}"><button>Изменить</button></a>
        <a href="{% url 'wishlist_delete' w.pk %}"><button>Корзина</button></a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p>Пока нет желаний. Добавь первое!</p>
{% endif %}
</main>
{% endblock %}

