{% extends "accounts/base.html" %}
{% load static %}
{% block title %}Уведомления{% endblock %}
{% block head %}<link rel="stylesheet" href="{% static 'accounts/css/dashboard.css' %}">
<link rel="stylesheet" href="{% static 'accounts/css/theme.css' %}">{% endblock %}
{% block content %}
 <div class="sidebar">
        <h1>DragonPurse</h1>
        <a href="{% url 'dashboard' %}"><button>Главная</button></a>
        <a href="{% url 'notifications_inbox' %}"><button>Входящие</button></a>
        <a href="{% url 'notifications_inbox' %}"><button>Все уведомления</button></a>

        <div class="line"></div>
        <a href="{% url 'logout' %}"><button>Выйти</button></a>
    </div>

<div class="notifications-container" style="display: flex; gap: 20px;">



<main style="flex-grow: 1;">
{% if messages %}
            {% for m in messages %}
                <div class="alert" style="color:#ffcc00; margin-bottom:10px;">{{ m }}</div>
            {% endfor %}
{% endif %}
<h1>Уведомления</h1>


{% if notifications %}
<ul style="list-style: none; padding: 0;">
{% for n in notifications %}
<li style="margin-bottom: 10px; padding: 10px; border: 1px solid #ccc; background: {% if n.is_read %}#e5ffe5{% else %}#fff{% endif %};">
<a href="{% url 'notification_detail' n.id %}" style="text-decoration:none; color: black;">
<strong>{{ n.created_at|date:"d.m.Y H:i" }}</strong> — {{ n.message }}
</a>
<form method="post" action="{% url 'notification_delete' n.id %}" style="display:inline; float:right;">
{% csrf_token %}
<button type="submit">Удалить</button>
</form>
</li>
{% endfor %}
</ul>
{% else %}
<p>Пока нет уведомлений</p>
{% endif %}
</main>
</div>
{% endblock %}
